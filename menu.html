<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Men√∫ | Restaurante El Tr√©bol</title>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">


        <!-- CSS Personalizado -->
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

        
    </head>
    <body>
        
        <!-- Header con Bootstrap -->
        <!-- Versi√≥n corregida del navbar para todas las p√°ginas -->
        <header class="bg-white shadow-sm sticky-top">
            <div class="container py-2">
                <div class="row align-items-center">
                    <div
                        class="col-md-6 d-flex align-items-center justify-content-center justify-content-md-start"
                    >
                        <a href="index.html" class="text-decoration-none">
                            <img
                                src="assets/img/logo.jpg"
                                alt="Logo Restaurante El Tr√©bol"
                                class="me-3 rounded-circle border"
                                width="60"
                                height="60"
                            />
                        </a>
                        <h1 class="mb-0 text-wrap">Restaurante El Tr√©bol</h1>
                    </div>
                    <div class="col-md-6 mt-2 mt-md-0">
                        <div
                            class="d-flex flex-wrap justify-content-center justify-content-md-end gap-2"
                        >
                            <!-- Men√∫ de navegaci√≥n -->
                            <nav class="navbar navbar-expand me-md-3">
                                <ul class="navbar-nav">
                                    <li class="nav-item">
                                        <a
                                            class="nav-link"
                                            id="nav-inicio"
                                            href="index.html"
                                            >Inicio</a
                                        >
                                    </li>
                                    <li class="nav-item">
                                        <a
                                            class="nav-link"
                                            id="nav-menu"
                                            href="menu.html"
                                            >Men√∫</a
                                        >
                                    </li>
                                    <li class="nav-item">
                                        <a
                                            class="nav-link"
                                            id="nav-reservas"
                                            href="reservas.html"
                                            >Reservas</a
                                        >
                                    </li>
                                    <li class="nav-item">
                                        <a
                                            class="nav-link"
                                            id="nav-contacto"
                                            href="contacto.html"
                                            >Contacto</a
                                        >
                                    </li>
                                </ul>
                            </nav>

                            <!-- Botones de acci√≥n (con Bootstrap Icons) -->
                            <button class="btn btn-light d-flex align-items-center" id="searchBtn" type="button">
    <i class="bi bi-search me-2"></i>
    <span>Buscar</span>
</button>
                            <button class="btn btn-success d-flex align-items-center position-relative" id="cartBtn" type="button">
    <i class="bi bi-cart-fill me-2" style="font-size: 18px;"></i>
    <span>Pedido</span>
    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" 
          id="cartBadge" style="display: none">0</span>
</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Contenido principal -->
        <main class="container py-4">
            <div class="text-center mb-5">
                <h2 class="display-4">Carta Completa</h2>
                <p class="lead">
                    Descubre nuestra variedad de platos preparados con
                    ingredientes de calidad
                </p>
            </div>

            <!-- Filtro por categor√≠as -->
            <div class="mb-4">
                <div class="d-flex flex-wrap justify-content-center gap-2">
                    <button
                        class="btn btn-outline-success active"
                        data-category="all"
                    >
                        Todos
                    </button>
                    <button
                        class="btn btn-outline-success"
                        data-category="Entradas"
                    >
                        Entradas
                    </button>
                    <button
                        class="btn btn-outline-success"
                        data-category="Platos Principales"
                    >
                        Platos Principales
                    </button>
                    <button
                        class="btn btn-outline-success"
                        data-category="Pastas"
                    >
                        Pastas
                    </button>
                    <button
                        class="btn btn-outline-success"
                        data-category="Arroces"
                    >
                        Arroces
                    </button>
                    <button
                        class="btn btn-outline-success"
                        data-category="Postres"
                    >
                        Postres
                    </button>
                    <button
                        class="btn btn-outline-success"
                        data-category="Bebidas"
                    >
                        Bebidas
                    </button>
                </div>
            </div>

            <!-- Platos del men√∫ -->
            <div
                class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"
                id="menuCompleto"
            >
                <!-- Los platos se generan din√°micamente -->
            </div>
            <section class="mb-5">
                <h2 class="text-success border-bottom pb-2 mb-4">
                    üçÄ Especiales del Chef
                </h2>
                <div
                    class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4"
                    id="ofertasGrid"
                >
                    <!-- Las ofertas se generan din√°micamente -->
                </div>
            </section>

            <section class="mb-5">
                <h2 class="border-bottom pb-2 mb-4">üçΩÔ∏è Nuestro Men√∫</h2>
                <div
                    class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4"
                    id="productosGrid"
                >
                    <!-- Los productos se generan din√°micamente -->
                </div>
            </section>
        </main>

        <!-- Footer con Bootstrap -->
        <footer class="bg-light py-4 mt-auto">
            <div class="container">
                <div class="row align-items-center">
                    <div
                        class="col-md-6 mb-3 mb-md-0 d-flex align-items-center"
                    >
                        <img
                            src="assets/img/logo.jpg"
                            alt="Logo"
                            width="50"
                            height="50"
                            class="me-2"
                
                        />
                        <span class="text-muted"
                            >¬© 2025 Restaurante El Tr√©bol</span
                        >
                    </div>
                    <div class="col-md-6">
                        <ul class="list-inline text-md-end mb-0">
                            <li class="list-inline-item">
                                <a href="#" class="text-decoration-none"
                                    >Pol√≠tica de Privacidad</a
                                >
                            </li>
                            <li class="list-inline-item">
                                <a href="#" class="text-decoration-none"
                                    >T√©rminos</a
                                >
                            </li>
                            <li class="list-inline-item">
                                <a
                                    href="https://api.whatsapp.com/send?phone=5491123456789"
                                    class="text-decoration-none"
                                    target="_blank"
                                >
                                    <i class="bi bi-whatsapp" style="font-size: 18px;"></i>
                                    Reservas
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Bot√≥n flotante de WhatsApp -->
        <a href="https://api.whatsapp.com/send?phone=5491123456789" class="whatsapp-float" target="_blank" aria-label="Reservar por WhatsApp">
    <i class="bi bi-whatsapp"></i>
</a>

        <!-- Modal para detalles del plato -->
        <div
            class="modal fade"
            id="productoModal"
            tabindex="-1"
            aria-labelledby="productoModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="productoModalLabel">
                            Detalles del plato
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Cerrar"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img
                                    id="modalProductoImagen"
                                    src=""
                                    alt=""
                                    class="img-fluid rounded mb-3"
                                />
                            </div>
                            <div class="col-md-6">
                                <h3 id="modalProductoTitulo" class="mb-2"></h3>
                                <p
                                    id="modalProductoCategoria"
                                    class="badge bg-success mb-3"
                                ></p>
                                <div
                                    id="modalProductoPrecio"
                                    class="fs-4 mb-3"
                                ></div>
                                <p
                                    id="modalProductoDescripcion"
                                    class="mb-4"
                                ></p>

                                <h6 class="border-bottom pb-2">
                                    Ingredientes:
                                </h6>
                                <ul
                                    id="modalProductoIngredientes"
                                    class="list-unstyled"
                                ></ul>
                                <div
                                    id="modalPlatosSimilares"
                                    class="mt-3"
                                ></div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                        >
                            Cerrar
                        </button>
                        <button
                            type="button"
                            class="btn btn-primary"
                            id="btnAgregarDesdeModal"
                        >
                            <i class="bi bi-cart-plus me-1" style="font-size: 18px;"></i>
                            Agregar al pedido
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal del carrito (estructura mejorada) -->
        <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="cartModalLabel">
                    <i class="bi bi-cart-fill me-2"></i>
                    Tu Pedido
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Carrito vac√≠o -->
                <div id="emptyCart" class="text-center py-5">
                    <i class="bi bi-utensils mb-3 text-muted" style="font-size: 48px;"></i>
                    <p class="lead">Tu pedido est√° vac√≠o</p>
                    <span class="text-muted">Agrega platos para continuar</span>
                </div>
                
                <!-- Contenedor para items del carrito -->
                <div id="cartItems" style="display: none; max-height: 300px; overflow-y: auto;"></div>
                
                <!-- Footer del carrito -->
                <div id="cartFooter" class="mt-3 pt-3 border-top" style="display: none">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <span class="fw-bold">Total:</span>
                        <span class="fs-4 fw-bold" id="totalAmount">$0</span>
                    </div>
                    
                    <div class="d-flex justify-content-between mb-3">
                        <button id="clearCartBtn" class="btn btn-outline-danger">
                <i class="bi bi-trash me-1"></i> Vaciar pedido
            </button>
                    </div>
                    
                    <!-- Informaci√≥n del cliente -->
                    <div class="bg-light rounded p-3 mb-3">
                        <h6 class="mb-3">Informaci√≥n para tu pedido:</h6>
                        
                        <!-- Nombre del cliente -->
                        <div class="mb-3">
                            <label for="inputNombre" class="form-label">Nombre completo</label>
                            <input type="text" id="inputNombre" class="form-control" placeholder="Tu nombre" required>
                        </div>
                        
                        <!-- Tipo de entrega -->
                        <div class="mb-3">
                            <label class="form-label">Tipo de entrega</label>
                            <div class="d-flex gap-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tipoEntrega" id="radioDelivery" value="delivery" checked>
                                    <label class="form-check-label" for="radioDelivery">
                                        <i class="bi bi-bicycle me-1"></i> Delivery
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tipoEntrega" id="radioRetiro" value="retiro">
                                    <label class="form-check-label" for="radioRetiro">
                                        <i class="bi bi-shop me-1"></i> Retiro en local
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Direcci√≥n (solo visible si es delivery) -->
                        <div id="direccionContainer" class="mb-3">
                            <label for="inputDireccion" class="form-label">Direcci√≥n de entrega</label>
                            <input type="text" id="inputDireccion" class="form-control" placeholder="Calle, n√∫mero, piso, depto." required>
                            <div class="form-text">Incluye referencias para facilitar la entrega</div>
                        </div>
                        
                        <!-- Tel√©fono -->
                        <div class="mb-3">
                            <label for="inputTelefono" class="form-label">Tel√©fono de contacto</label>
                            <input type="tel" id="inputTelefono" class="form-control" placeholder="Tu n√∫mero de tel√©fono" required>
                        </div>
                        
                        <!-- Comentarios adicionales -->
                        <div class="mb-0">
                            <label for="inputComentarios" class="form-label">Comentarios adicionales (opcional)</label>
                            <textarea id="inputComentarios" class="form-control" rows="2" placeholder="Instrucciones especiales para tu pedido"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-success" id="whatsappBtnFooter">
                    <i class="bi bi-whatsapp me-1"></i>
                    Confirmar pedido
                </button>
            </div>
        </div>
    </div>
</div>

       <!-- Modal de b√∫squeda (versi√≥n segura) -->
<div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">
                    <i class="bi bi-search me-2"></i>
                    Buscar en nuestro men√∫
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" id="searchInput" placeholder="Ingresa el nombre del plato..." autocomplete="off">
                    <button class="btn btn-success" id="searchModalBtn">
                        <i class="bi bi-search me-1"></i> Buscar
                    </button>
                </div>
                <div id="searchResults" class="mt-3">
                    <!-- Los resultados se mostrar√°n aqu√≠ -->
                </div>
            </div>
        </div>
    </div>
</div>

        <!-- Scripts esenciales -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script src="script.js"></script>
<script src="globalCarrito.js"></script>
<script src="activePage.js"></script>

<!-- Scripts espec√≠ficos -->
<script src="menu.js"></script> <!-- Solo para menu.html -->

<!-- Script de b√∫squeda (debe estar despu√©s de los dem√°s) -->
<script src="search.js"></script>

<!-- Scripts de iconos (versi√≥n simplificada) -->
<script>
    // Asegurarse que todos los iconos son Bootstrap Icons
    document.addEventListener('DOMContentLoaded', function() {
        // Reemplazar cualquier icono de Lucide restante por Bootstrap Icons
        const iconMap = {
            'whatsapp': 'bi-whatsapp',
            'shopping-cart': 'bi-cart-fill',
            'search': 'bi-search',
            'message-circle': 'bi-chat-dots-fill',
            'utensils': 'bi-utensils',
            'info': 'bi-info-circle',
            'plus': 'bi-plus',
            'minus': 'bi-dash'
        };
        
        // Buscar y reemplazar cualquier icono Lucide restante
        document.querySelectorAll('[data-lucide]').forEach(icon => {
            const iconName = icon.getAttribute('data-lucide');
            const bootstrapIcon = iconMap[iconName] || 'bi-app'; // icono por defecto
            
            const newIcon = document.createElement('i');
            newIcon.className = `bi ${bootstrapIcon} me-2`;
            
            if (icon.hasAttribute('width')) {
                newIcon.style.fontSize = `${icon.getAttribute('width')}px`;
            }
            
            icon.parentNode.replaceChild(newIcon, icon);
        });
    });
</script>
    </body>
</html>
